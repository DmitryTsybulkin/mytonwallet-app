/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/api/index.ts":
/*!**************************!*\
  !*** ./src/api/index.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"callApi\": () => (/* reexport safe */ _providers_worker_connector__WEBPACK_IMPORTED_MODULE_0__.callApi),\n/* harmony export */   \"initApi\": () => (/* reexport safe */ _providers_worker_connector__WEBPACK_IMPORTED_MODULE_0__.initApi)\n/* harmony export */ });\n/* harmony import */ var _providers_worker_connector__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./providers/worker/connector */ \"./src/api/providers/worker/connector.ts\");\n// export { initApi, callApi } from './providers/direct/connector';\n\n\n//# sourceURL=webpack://mytonwallet-lib/./src/api/index.ts?");

/***/ }),

/***/ "./src/api/providers/worker/connector.ts":
/*!***********************************************!*\
  !*** ./src/api/providers/worker/connector.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"callApi\": () => (/* binding */ callApi),\n/* harmony export */   \"callApiWithThrow\": () => (/* binding */ callApiWithThrow),\n/* harmony export */   \"initApi\": () => (/* binding */ initApi)\n/* harmony export */ });\n/* harmony import */ var _util_logs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../util/logs */ \"./src/util/logs.ts\");\n/* harmony import */ var _util_PostMessageConnector__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../util/PostMessageConnector */ \"./src/util/PostMessageConnector.ts\");\n/* harmony import */ var _util_schedulers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../util/schedulers */ \"./src/util/schedulers.ts\");\n\n\n\nconst HEALTH_CHECK_TIMEOUT = 150;\nconst HEALTH_CHECK_MIN_DELAY = 5000; // 5 sec\n\nlet updateCallback;\nlet worker;\nlet connector;\nlet isInitialized = false;\nfunction initApi(onUpdate, initArgs) {\n  updateCallback = onUpdate;\n  if (!connector) {\n    worker = new Worker( /* webpackChunkName: \"worker\" */new URL(/* worker import */ __webpack_require__.p + __webpack_require__.u(\"worker\"), __webpack_require__.b));\n    connector = (0,_util_PostMessageConnector__WEBPACK_IMPORTED_MODULE_1__.createConnector)(worker, onUpdate);\n  }\n  if (!isInitialized) {\n    setupIosHealthCheck();\n    isInitialized = true;\n  }\n  const args = typeof initArgs === 'function' ? initArgs() : initArgs;\n  return connector.init(args);\n}\nasync function callApi(fnName) {\n  if (!connector) {\n    (0,_util_logs__WEBPACK_IMPORTED_MODULE_0__.logDebugError)('API is not initialized');\n    return undefined;\n  }\n  try {\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n    return await connector.request({\n      name: fnName,\n      args\n    });\n  } catch (err) {\n    return undefined;\n  }\n}\nfunction callApiWithThrow(fnName) {\n  for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n    args[_key2 - 1] = arguments[_key2];\n  }\n  return connector.request({\n    name: fnName,\n    args\n  });\n}\nconst startedAt = Date.now();\n\n// Workaround for iOS sometimes stops interacting with worker\nfunction setupIosHealthCheck() {\n  window.addEventListener('focus', () => {\n    void ensureWorkerPing();\n    // Sometimes a single check is not enough\n    setTimeout(() => ensureWorkerPing(), 1000);\n  });\n}\nasync function ensureWorkerPing() {\n  let isResolved = false;\n  try {\n    await Promise.race([callApiWithThrow('ping'), (0,_util_schedulers__WEBPACK_IMPORTED_MODULE_2__.pause)(HEALTH_CHECK_TIMEOUT).then(() => isResolved ? undefined : Promise.reject(new Error('HEALTH_CHECK_TIMEOUT')))]);\n  } catch (err) {\n    // eslint-disable-next-line no-console\n    console.error(err);\n    if (Date.now() - startedAt >= HEALTH_CHECK_MIN_DELAY) {\n      var _worker;\n      (_worker = worker) === null || _worker === void 0 || _worker.terminate();\n      worker = undefined;\n      connector = undefined;\n      updateCallback({\n        type: 'requestReconnectApi'\n      });\n    }\n  } finally {\n    isResolved = true;\n  }\n}\n\n//# sourceURL=webpack://mytonwallet-lib/./src/api/providers/worker/connector.ts?");

/***/ }),

/***/ "./src/config.ts":
/*!***********************!*\
  !*** ./src/config.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"APP_ENV\": () => (/* binding */ APP_ENV),\n/* harmony export */   \"APP_VERSION\": () => (/* binding */ APP_VERSION),\n/* harmony export */   \"BRILLIANT_API_BASE_URL\": () => (/* binding */ BRILLIANT_API_BASE_URL),\n/* harmony export */   \"CURRENCY_LIST\": () => (/* binding */ CURRENCY_LIST),\n/* harmony export */   \"DEBUG\": () => (/* binding */ DEBUG),\n/* harmony export */   \"DEBUG_ALERT_MSG\": () => (/* binding */ DEBUG_ALERT_MSG),\n/* harmony export */   \"DEBUG_MORE\": () => (/* binding */ DEBUG_MORE),\n/* harmony export */   \"DEFAULT_DECIMAL_PLACES\": () => (/* binding */ DEFAULT_DECIMAL_PLACES),\n/* harmony export */   \"DEFAULT_ERROR_PAUSE\": () => (/* binding */ DEFAULT_ERROR_PAUSE),\n/* harmony export */   \"DEFAULT_FEE\": () => (/* binding */ DEFAULT_FEE),\n/* harmony export */   \"DEFAULT_PRICE_CURRENCY\": () => (/* binding */ DEFAULT_PRICE_CURRENCY),\n/* harmony export */   \"DEFAULT_RETRIES\": () => (/* binding */ DEFAULT_RETRIES),\n/* harmony export */   \"DEFAULT_TIMEOUT\": () => (/* binding */ DEFAULT_TIMEOUT),\n/* harmony export */   \"DEFAULT_WALLET_VERSION\": () => (/* binding */ DEFAULT_WALLET_VERSION),\n/* harmony export */   \"ELECTRON_TONHTTPAPI_MAINNET_API_KEY\": () => (/* binding */ ELECTRON_TONHTTPAPI_MAINNET_API_KEY),\n/* harmony export */   \"ELECTRON_TONHTTPAPI_TESTNET_API_KEY\": () => (/* binding */ ELECTRON_TONHTTPAPI_TESTNET_API_KEY),\n/* harmony export */   \"INIT_SWAP_ASSETS\": () => (/* binding */ INIT_SWAP_ASSETS),\n/* harmony export */   \"IS_NATIVE_ANDROID\": () => (/* binding */ IS_NATIVE_ANDROID),\n/* harmony export */   \"JUSDT_TOKEN_SLUG\": () => (/* binding */ JUSDT_TOKEN_SLUG),\n/* harmony export */   \"JWBTC_TOKEN_SLUG\": () => (/* binding */ JWBTC_TOKEN_SLUG),\n/* harmony export */   \"LIQUID_JETTON\": () => (/* binding */ LIQUID_JETTON),\n/* harmony export */   \"LIQUID_POOL\": () => (/* binding */ LIQUID_POOL),\n/* harmony export */   \"MAIN_ACCOUNT_ID\": () => (/* binding */ MAIN_ACCOUNT_ID),\n/* harmony export */   \"MIN_BALANCE_FOR_UNSTAKE\": () => (/* binding */ MIN_BALANCE_FOR_UNSTAKE),\n/* harmony export */   \"NOMINATORS_STAKING_MIN_AMOUNT\": () => (/* binding */ NOMINATORS_STAKING_MIN_AMOUNT),\n/* harmony export */   \"ONE_TON\": () => (/* binding */ ONE_TON),\n/* harmony export */   \"POPULAR_WALLET_VERSIONS\": () => (/* binding */ POPULAR_WALLET_VERSIONS),\n/* harmony export */   \"PRODUCTION_URL\": () => (/* binding */ PRODUCTION_URL),\n/* harmony export */   \"PROXY_HOSTS\": () => (/* binding */ PROXY_HOSTS),\n/* harmony export */   \"SHORT_CURRENCY_SYMBOL_MAP\": () => (/* binding */ SHORT_CURRENCY_SYMBOL_MAP),\n/* harmony export */   \"STAKING_CYCLE_DURATION_MS\": () => (/* binding */ STAKING_CYCLE_DURATION_MS),\n/* harmony export */   \"STAKING_FORWARD_AMOUNT\": () => (/* binding */ STAKING_FORWARD_AMOUNT),\n/* harmony export */   \"STAKING_MIN_AMOUNT\": () => (/* binding */ STAKING_MIN_AMOUNT),\n/* harmony export */   \"STAKING_POOLS\": () => (/* binding */ STAKING_POOLS),\n/* harmony export */   \"STRICTERDOM_ENABLED\": () => (/* binding */ STRICTERDOM_ENABLED),\n/* harmony export */   \"SWAP_FEE_ADDRESS\": () => (/* binding */ SWAP_FEE_ADDRESS),\n/* harmony export */   \"TINY_TRANSFER_MAX_COST\": () => (/* binding */ TINY_TRANSFER_MAX_COST),\n/* harmony export */   \"TOKEN_INFO\": () => (/* binding */ TOKEN_INFO),\n/* harmony export */   \"TONAPIIO_MAINNET_URL\": () => (/* binding */ TONAPIIO_MAINNET_URL),\n/* harmony export */   \"TONAPIIO_TESTNET_URL\": () => (/* binding */ TONAPIIO_TESTNET_URL),\n/* harmony export */   \"TONCONNECT_PROTOCOL\": () => (/* binding */ TONCONNECT_PROTOCOL),\n/* harmony export */   \"TONCONNECT_PROTOCOL_VERSION\": () => (/* binding */ TONCONNECT_PROTOCOL_VERSION),\n/* harmony export */   \"TONCONNECT_UNIVERSAL_URL\": () => (/* binding */ TONCONNECT_UNIVERSAL_URL),\n/* harmony export */   \"TONCONNECT_WALLET_JSBRIDGE_KEY\": () => (/* binding */ TONCONNECT_WALLET_JSBRIDGE_KEY),\n/* harmony export */   \"TONHTTPAPI_MAINNET_API_KEY\": () => (/* binding */ TONHTTPAPI_MAINNET_API_KEY),\n/* harmony export */   \"TONHTTPAPI_MAINNET_URL\": () => (/* binding */ TONHTTPAPI_MAINNET_URL),\n/* harmony export */   \"TONHTTPAPI_TESTNET_API_KEY\": () => (/* binding */ TONHTTPAPI_TESTNET_API_KEY),\n/* harmony export */   \"TONHTTPAPI_TESTNET_URL\": () => (/* binding */ TONHTTPAPI_TESTNET_URL),\n/* harmony export */   \"TONHTTPAPI_V3_MAINNET_API_URL\": () => (/* binding */ TONHTTPAPI_V3_MAINNET_API_URL),\n/* harmony export */   \"TONHTTPAPI_V3_TESTNET_API_URL\": () => (/* binding */ TONHTTPAPI_V3_TESTNET_API_URL),\n/* harmony export */   \"TON_BLOCKCHAIN\": () => (/* binding */ TON_BLOCKCHAIN),\n/* harmony export */   \"TON_PROTOCOL\": () => (/* binding */ TON_PROTOCOL),\n/* harmony export */   \"TON_SYMBOL\": () => (/* binding */ TON_SYMBOL),\n/* harmony export */   \"TON_TOKEN_SLUG\": () => (/* binding */ TON_TOKEN_SLUG),\n/* harmony export */   \"USDT_TRON_TOKEN_SLUG\": () => (/* binding */ USDT_TRON_TOKEN_SLUG),\n/* harmony export */   \"VALIDATION_PERIOD_MS\": () => (/* binding */ VALIDATION_PERIOD_MS)\n/* harmony export */ });\nconst APP_ENV = \"development\";\nconst APP_VERSION = \"1.0.0\";\nconst DEBUG = APP_ENV !== 'production' && APP_ENV !== 'perf' && APP_ENV !== 'test';\nconst DEBUG_MORE = false;\nconst PRODUCTION_URL = 'https://mytonwallet.app';\nconst SWAP_FEE_ADDRESS =  false || 'UQDUkQbpTVIgt7v66-JTFR-3-eXRFz_4V66F-Ufn6vOg0GOp';\nconst STRICTERDOM_ENABLED = DEBUG;\nconst DEBUG_ALERT_MSG = 'Shoot!\\nSomething went wrong, please see the error details in Dev Tools Console.';\nconst TON_SYMBOL = 'TON';\nconst DEFAULT_DECIMAL_PLACES = 9;\nconst MAIN_ACCOUNT_ID = '0-ton-mainnet';\nconst IS_NATIVE_ANDROID = false;\nconst TONHTTPAPI_MAINNET_URL = \"https://tonhttpapi.mytonwallet.org/api/v2/jsonRPC\" || 0;\nconst TONHTTPAPI_MAINNET_API_KEY = \"32b68f5b8ec2cd33ef41dc4396173fc309f369948b393c7fab46b72bac66434d\";\nconst ELECTRON_TONHTTPAPI_MAINNET_API_KEY = null;\nconst TONHTTPAPI_V3_MAINNET_API_URL =  false || 'https://tonhttpapi-v3.mytonwallet.org/api/v3';\nconst TONAPIIO_MAINNET_URL = \"https://tonapiio.mytonwallet.org\" || 0;\nconst TONHTTPAPI_TESTNET_URL = \"https://tonhttpapi-testnet.mytonwallet.org/api/v2/jsonRPC\" || 0;\nconst TONHTTPAPI_TESTNET_API_KEY = \"729eb455e9c0943dabdbe0c2c75270a67a3da6aae8ea7c6a572089e7c1939826\";\nconst ELECTRON_TONHTTPAPI_TESTNET_API_KEY = null;\nconst TONHTTPAPI_V3_TESTNET_API_URL =  false || 'https://tonhttpapi-v3-testnet.mytonwallet.org/api/v3';\nconst TONAPIIO_TESTNET_URL = \"https://tonapiio-testnet.mytonwallet.org\" || 0;\nconst BRILLIANT_API_BASE_URL =  false || 'https://api.mytonwallet.org';\nconst TON_TOKEN_SLUG = 'toncoin';\nconst JWBTC_TOKEN_SLUG = 'ton-eqdcbkghmc';\nconst JUSDT_TOKEN_SLUG = 'ton-eqbynbo23y';\nconst USDT_TRON_TOKEN_SLUG = 'usdtrx';\nconst PROXY_HOSTS = \"tonproxy.io:38080 tonproxy.io:38081 tonproxy.io:38082\";\nconst TINY_TRANSFER_MAX_COST = 0.01;\nconst STAKING_CYCLE_DURATION_MS = 131072000; // 36.4 hours\nconst VALIDATION_PERIOD_MS = 65536000; // 18.2 h.\nconst ONE_TON = 1000000000n;\nconst MIN_BALANCE_FOR_UNSTAKE = 1020000000n; // 1.02 TON\nconst STAKING_FORWARD_AMOUNT = ONE_TON;\nconst DEFAULT_FEE = 15000000n; // 0.015 TON\n\nconst STAKING_POOLS =  false ? 0 : [];\nconst LIQUID_POOL =  false || 'EQD2_4d91M4TVbEBVyBF8J1UwpMJc361LKVCz6bBlffMW05o';\nconst LIQUID_JETTON =  false || 'EQCqC6EhRJ_tpWngKxL6dV0k6DSnRUrs9GSVkLbfdCqsj6TE';\nconst STAKING_MIN_AMOUNT = ONE_TON;\nconst NOMINATORS_STAKING_MIN_AMOUNT = ONE_TON * 10001n;\nconst TON_PROTOCOL = 'ton://';\nconst TONCONNECT_PROTOCOL = 'tc://';\nconst TONCONNECT_UNIVERSAL_URL = 'https://connect.mytonwallet.org';\nconst TONCONNECT_PROTOCOL_VERSION = 2;\nconst TONCONNECT_WALLET_JSBRIDGE_KEY = 'mytonwallet';\nconst TOKEN_INFO = {\n  toncoin: {\n    name: 'Toncoin',\n    symbol: TON_SYMBOL,\n    slug: TON_TOKEN_SLUG,\n    cmcSlug: TON_TOKEN_SLUG,\n    quote: {\n      slug: TON_TOKEN_SLUG,\n      price: 1.95,\n      priceUsd: 1.95,\n      percentChange24h: 0\n    },\n    decimals: DEFAULT_DECIMAL_PLACES\n  }\n};\nconst TON_BLOCKCHAIN = 'ton';\nconst INIT_SWAP_ASSETS = {\n  toncoin: {\n    name: 'Toncoin',\n    symbol: TON_SYMBOL,\n    blockchain: TON_BLOCKCHAIN,\n    slug: TON_TOKEN_SLUG,\n    decimals: DEFAULT_DECIMAL_PLACES,\n    price: 0,\n    priceUsd: 0,\n    isPopular: true\n  },\n  'ton-eqdcbkghmc': {\n    name: 'jWBTC',\n    symbol: 'jWBTC',\n    blockchain: TON_BLOCKCHAIN,\n    slug: 'ton-eqdcbkghmc',\n    decimals: 8,\n    // eslint-disable-next-line max-len\n    image: 'https://cache.tonapi.io/imgproxy/LaFKdzahVX9epWT067gyVLd8aCa1lFrZd7Rp9siViEE/rs:fill:200:200:1/g:no/aHR0cHM6Ly9icmlkZ2UudG9uLm9yZy90b2tlbi8xLzB4MjI2MGZhYzVlNTU0MmE3NzNhYTQ0ZmJjZmVkZjdjMTkzYmMyYzU5OS5wbmc.webp',\n    contract: 'EQDcBkGHmC4pTf34x3Gm05XvepO5w60DNxZ-XT4I6-UGG5L5',\n    price: 0,\n    priceUsd: 0,\n    isPopular: false,\n    keywords: ['bitcoin']\n  }\n};\nconst DEFAULT_PRICE_CURRENCY = 'USD';\nconst SHORT_CURRENCY_SYMBOL_MAP = {\n  USD: '$',\n  EUR: '€',\n  RUB: '₽',\n  CNY: '¥'\n};\nconst CURRENCY_LIST = [{\n  value: 'USD',\n  name: 'US Dollar'\n}, {\n  value: 'EUR',\n  name: 'Euro'\n}, {\n  value: 'RUB',\n  name: 'Ruble'\n}, {\n  value: 'CNY',\n  name: 'Yuan'\n}, {\n  value: 'BTC',\n  name: 'Bitcoin'\n}, {\n  value: TON_SYMBOL,\n  name: 'Toncoin'\n}];\nconst DEFAULT_WALLET_VERSION = 'v4R2';\nconst POPULAR_WALLET_VERSIONS = ['v3R1', 'v3R2', 'v4R2'];\nconst DEFAULT_TIMEOUT = 5000;\nconst DEFAULT_RETRIES = 3;\nconst DEFAULT_ERROR_PAUSE = 200;\n\n//# sourceURL=webpack://mytonwallet-lib/./src/config.ts?");

/***/ }),

/***/ "./src/index.ts":
/*!**********************!*\
  !*** ./src/index.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"getAccountBalance\": () => (/* binding */ getAccountBalance),\n/* harmony export */   \"importMnemonic\": () => (/* binding */ importMnemonic),\n/* harmony export */   \"verifyPassword\": () => (/* binding */ verifyPassword)\n/* harmony export */ });\n/* harmony import */ var _api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./api */ \"./src/api/index.ts\");\n\nfunction onApiUpdate(upd) {\n  console.log(upd);\n}\nfunction initAPI() {\n  (0,_api__WEBPACK_IMPORTED_MODULE_0__.initApi)(onApiUpdate, {\n    isAndroidApp: false,\n    isElectron: false,\n    isIosApp: false,\n    isNativeBottomSheet: false\n  });\n}\nwindow.initAPI = initAPI;\nwindow.onApiUpdate = onApiUpdate;\nfunction generateMnemonic() {\n  (0,_api__WEBPACK_IMPORTED_MODULE_0__.callApi)('generateMnemonic').then(result => {\n    // @ts-ignore\n    // Android.generateMnemonic(result);\n    console.log(result);\n  }).catch(error => {\n    console.log(\"JS: Failed\", error);\n  });\n}\nwindow.generateMnemonic = generateMnemonic;\nfunction getMnemonicWordList() {\n  (0,_api__WEBPACK_IMPORTED_MODULE_0__.callApi)('getMnemonicWordList').then(result => {\n    // @ts-ignore\n    Android.getMnemonicWordList(result);\n  }).catch(error => {\n    console.log(\"JS: Failed\", error);\n  });\n}\nwindow.getMnemonicWordList = getMnemonicWordList;\nfunction validateMnemonic(mnemonic) {\n  (0,_api__WEBPACK_IMPORTED_MODULE_0__.callApi)('validateMnemonic', mnemonic).then(result => {\n    // @ts-ignore\n    Android.validateMnemonic(result);\n  }).catch(error => {\n    console.log(\"JS: Failed\", error);\n  });\n}\nwindow.validateMnemonic = validateMnemonic;\nasync function verifyPassword(password) {\n  return await (0,_api__WEBPACK_IMPORTED_MODULE_0__.callApi)('verifyPassword', password);\n}\nasync function importMnemonic(mnemonic) {\n  return await (0,_api__WEBPACK_IMPORTED_MODULE_0__.callApi)('importMnemonic', \"mainnet\", mnemonic, '');\n}\nasync function getAccountBalance(address) {\n  return await (0,_api__WEBPACK_IMPORTED_MODULE_0__.callApi)('getWalletBalance', \"mainnet\", address);\n}\n\n//# sourceURL=webpack://mytonwallet-lib/./src/index.ts?");

/***/ }),

/***/ "./src/lib/big.js/index.js":
/*!*********************************!*\
  !*** ./src/lib/big.js/index.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Big\": () => (/* binding */ Big),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/*\n *  big.js v6.2.1\n *  A small, fast, easy-to-use library for arbitrary-precision decimal arithmetic.\n *  Copyright (c) 2022 Michael Mclaughlin\n *  https://github.com/MikeMcl/big.js/LICENCE.md\n */\n\n/************************************** EDITABLE DEFAULTS *****************************************/\n\n// The default values below must be integers within the stated ranges.\n\n/*\n * The maximum number of decimal places (DP) of the results of operations involving division:\n * div and sqrt, and pow with negative exponents.\n */\nvar DP = 20,\n  // 0 to MAX_DP\n\n  /*\n   * The rounding mode (RM) used when rounding to the above decimal places.\n   *\n   *  0  Towards zero (i.e. truncate, no rounding).       (ROUND_DOWN)\n   *  1  To nearest neighbour. If equidistant, round up.  (ROUND_HALF_UP)\n   *  2  To nearest neighbour. If equidistant, to even.   (ROUND_HALF_EVEN)\n   *  3  Away from zero.                                  (ROUND_UP)\n   */\n  RM = 1,\n  // 0, 1, 2 or 3\n\n  // The maximum value of DP and Big.DP.\n  MAX_DP = 1E6,\n  // 0 to 1000000\n\n  // The maximum magnitude of the exponent argument to the pow method.\n  MAX_POWER = 1E6,\n  // 1 to 1000000\n\n  /*\n   * The negative exponent (NE) at and beneath which toString returns exponential notation.\n   * (JavaScript numbers: -7)\n   * -1000000 is the minimum recommended exponent value of a Big.\n   */\n  NE = -7,\n  // 0 to -1000000\n\n  /*\n   * The positive exponent (PE) at and above which toString returns exponential notation.\n   * (JavaScript numbers: 21)\n   * 1000000 is the maximum recommended exponent value of a Big, but this limit is not enforced.\n   */\n  PE = 21,\n  // 0 to 1000000\n\n  /*\n   * When true, an error will be thrown if a primitive number is passed to the Big constructor,\n   * or if valueOf is called, or if toNumber is called on a Big which cannot be converted to a\n   * primitive number without a loss of precision.\n   */\n  STRICT = false,\n  // true or false\n\n  /**************************************************************************************************/\n\n  // Error messages.\n  NAME = '[big.js] ',\n  INVALID = NAME + 'Invalid ',\n  INVALID_DP = INVALID + 'decimal places',\n  INVALID_RM = INVALID + 'rounding mode',\n  DIV_BY_ZERO = NAME + 'Division by zero',\n  // The shared prototype object.\n  P = {},\n  UNDEFINED = void 0,\n  NUMERIC = /^-?(\\d+(\\.\\d*)?|\\.\\d+)(e[+-]?\\d+)?$/i;\n\n/*\n * Create and return a Big constructor.\n */\nfunction _Big_() {\n  /*\n   * The Big constructor and exported function.\n   * Create and return a new instance of a Big number object.\n   *\n   * n {number|string|Big} A numeric value.\n   */\n  function Big(n) {\n    var x = this;\n\n    // Enable constructor usage without new.\n    if (!(x instanceof Big)) return n === UNDEFINED ? _Big_() : new Big(n);\n\n    // Duplicate.\n    if (n instanceof Big) {\n      x.s = n.s;\n      x.e = n.e;\n      x.c = n.c.slice();\n    } else {\n      if (typeof n !== 'string') {\n        if (Big.strict === true && typeof n !== 'bigint') {\n          throw TypeError(INVALID + 'value');\n        }\n\n        // Minus zero?\n        n = n === 0 && 1 / n < 0 ? '-0' : String(n);\n      }\n      parse(x, n);\n    }\n\n    // Retain a reference to this Big constructor.\n    // Shadow Big.prototype.constructor which points to Object.\n    x.constructor = Big;\n  }\n  Big.prototype = P;\n  Big.DP = DP;\n  Big.RM = RM;\n  Big.NE = NE;\n  Big.PE = PE;\n  Big.strict = STRICT;\n  Big.roundDown = 0;\n  Big.roundHalfUp = 1;\n  Big.roundHalfEven = 2;\n  Big.roundUp = 3;\n  return Big;\n}\n\n/*\n * Parse the number or string value passed to a Big constructor.\n *\n * x {Big} A Big number instance.\n * n {number|string} A numeric value.\n */\nfunction parse(x, n) {\n  var e, i, nl;\n  if (!NUMERIC.test(n)) {\n    throw Error(INVALID + 'number');\n  }\n\n  // Determine sign.\n  x.s = n.charAt(0) == '-' ? (n = n.slice(1), -1) : 1;\n\n  // Decimal point?\n  if ((e = n.indexOf('.')) > -1) n = n.replace('.', '');\n\n  // Exponential form?\n  if ((i = n.search(/e/i)) > 0) {\n    // Determine exponent.\n    if (e < 0) e = i;\n    e += +n.slice(i + 1);\n    n = n.substring(0, i);\n  } else if (e < 0) {\n    // Integer.\n    e = n.length;\n  }\n  nl = n.length;\n\n  // Determine leading zeros.\n  for (i = 0; i < nl && n.charAt(i) == '0';) ++i;\n  if (i == nl) {\n    // Zero.\n    x.c = [x.e = 0];\n  } else {\n    // Determine trailing zeros.\n    for (; nl > 0 && n.charAt(--nl) == '0';);\n    x.e = e - i - 1;\n    x.c = [];\n\n    // Convert string to array of digits without leading/trailing zeros.\n    for (e = 0; i <= nl;) x.c[e++] = +n.charAt(i++);\n  }\n  return x;\n}\n\n/*\n * Round Big x to a maximum of sd significant digits using rounding mode rm.\n *\n * x {Big} The Big to round.\n * sd {number} Significant digits: integer, 0 to MAX_DP inclusive.\n * rm {number} Rounding mode: 0 (down), 1 (half-up), 2 (half-even) or 3 (up).\n * [more] {boolean} Whether the result of division was truncated.\n */\nfunction round(x, sd, rm, more) {\n  var xc = x.c;\n  if (rm === UNDEFINED) rm = x.constructor.RM;\n  if (rm !== 0 && rm !== 1 && rm !== 2 && rm !== 3) {\n    throw Error(INVALID_RM);\n  }\n  if (sd < 1) {\n    more = rm === 3 && (more || !!xc[0]) || sd === 0 && (rm === 1 && xc[0] >= 5 || rm === 2 && (xc[0] > 5 || xc[0] === 5 && (more || xc[1] !== UNDEFINED)));\n    xc.length = 1;\n    if (more) {\n      // 1, 0.1, 0.01, 0.001, 0.0001 etc.\n      x.e = x.e - sd + 1;\n      xc[0] = 1;\n    } else {\n      // Zero.\n      xc[0] = x.e = 0;\n    }\n  } else if (sd < xc.length) {\n    // xc[sd] is the digit after the digit that may be rounded up.\n    more = rm === 1 && xc[sd] >= 5 || rm === 2 && (xc[sd] > 5 || xc[sd] === 5 && (more || xc[sd + 1] !== UNDEFINED || xc[sd - 1] & 1)) || rm === 3 && (more || !!xc[0]);\n\n    // Remove any digits after the required precision.\n    xc.length = sd;\n\n    // Round up?\n    if (more) {\n      // Rounding up may mean the previous digit has to be rounded up.\n      for (; ++xc[--sd] > 9;) {\n        xc[sd] = 0;\n        if (sd === 0) {\n          ++x.e;\n          xc.unshift(1);\n          break;\n        }\n      }\n    }\n\n    // Remove trailing zeros.\n    for (sd = xc.length; !xc[--sd];) xc.pop();\n  }\n  return x;\n}\n\n/*\n * Return a string representing the value of Big x in normal or exponential notation.\n * Handles P.toExponential, P.toFixed, P.toJSON, P.toPrecision, P.toString and P.valueOf.\n */\nfunction stringify(x, doExponential, isNonzero) {\n  var e = x.e,\n    s = x.c.join(''),\n    n = s.length;\n\n  // Exponential notation?\n  if (doExponential) {\n    s = s.charAt(0) + (n > 1 ? '.' + s.slice(1) : '') + (e < 0 ? 'e' : 'e+') + e;\n\n    // Normal notation.\n  } else if (e < 0) {\n    for (; ++e;) s = '0' + s;\n    s = '0.' + s;\n  } else if (e > 0) {\n    if (++e > n) {\n      for (e -= n; e--;) s += '0';\n    } else if (e < n) {\n      s = s.slice(0, e) + '.' + s.slice(e);\n    }\n  } else if (n > 1) {\n    s = s.charAt(0) + '.' + s.slice(1);\n  }\n  return x.s < 0 && isNonzero ? '-' + s : s;\n}\n\n// Prototype/instance methods\n\n/*\n * Return a new Big whose value is the absolute value of this Big.\n */\nP.abs = function () {\n  var x = new this.constructor(this);\n  x.s = 1;\n  return x;\n};\n\n/*\n * Return 1 if the value of this Big is greater than the value of Big y,\n *       -1 if the value of this Big is less than the value of Big y, or\n *        0 if they have the same value.\n */\nP.cmp = function (y) {\n  var isneg,\n    x = this,\n    xc = x.c,\n    yc = (y = new x.constructor(y)).c,\n    i = x.s,\n    j = y.s,\n    k = x.e,\n    l = y.e;\n\n  // Either zero?\n  if (!xc[0] || !yc[0]) return !xc[0] ? !yc[0] ? 0 : -j : i;\n\n  // Signs differ?\n  if (i != j) return i;\n  isneg = i < 0;\n\n  // Compare exponents.\n  if (k != l) return k > l ^ isneg ? 1 : -1;\n  j = (k = xc.length) < (l = yc.length) ? k : l;\n\n  // Compare digit by digit.\n  for (i = -1; ++i < j;) {\n    if (xc[i] != yc[i]) return xc[i] > yc[i] ^ isneg ? 1 : -1;\n  }\n\n  // Compare lengths.\n  return k == l ? 0 : k > l ^ isneg ? 1 : -1;\n};\n\n/*\n * Return a new Big whose value is the value of this Big divided by the value of Big y, rounded,\n * if necessary, to a maximum of Big.DP decimal places using rounding mode Big.RM.\n */\nP.div = function (y) {\n  var x = this,\n    Big = x.constructor,\n    a = x.c,\n    // dividend\n    b = (y = new Big(y)).c,\n    // divisor\n    k = x.s == y.s ? 1 : -1,\n    dp = Big.DP;\n  if (dp !== ~~dp || dp < 0 || dp > MAX_DP) {\n    throw Error(INVALID_DP);\n  }\n\n  // Divisor is zero?\n  if (!b[0]) {\n    throw Error(DIV_BY_ZERO);\n  }\n\n  // Dividend is 0? Return +-0.\n  if (!a[0]) {\n    y.s = k;\n    y.c = [y.e = 0];\n    return y;\n  }\n  var bl,\n    bt,\n    n,\n    cmp,\n    ri,\n    bz = b.slice(),\n    ai = bl = b.length,\n    al = a.length,\n    r = a.slice(0, bl),\n    // remainder\n    rl = r.length,\n    q = y,\n    // quotient\n    qc = q.c = [],\n    qi = 0,\n    p = dp + (q.e = x.e - y.e) + 1; // precision of the result\n\n  q.s = k;\n  k = p < 0 ? 0 : p;\n\n  // Create version of divisor with leading zero.\n  bz.unshift(0);\n\n  // Add zeros to make remainder as long as divisor.\n  for (; rl++ < bl;) r.push(0);\n  do {\n    // n is how many times the divisor goes into current remainder.\n    for (n = 0; n < 10; n++) {\n      // Compare divisor and remainder.\n      if (bl != (rl = r.length)) {\n        cmp = bl > rl ? 1 : -1;\n      } else {\n        for (ri = -1, cmp = 0; ++ri < bl;) {\n          if (b[ri] != r[ri]) {\n            cmp = b[ri] > r[ri] ? 1 : -1;\n            break;\n          }\n        }\n      }\n\n      // If divisor < remainder, subtract divisor from remainder.\n      if (cmp < 0) {\n        // Remainder can't be more than 1 digit longer than divisor.\n        // Equalise lengths using divisor with extra leading zero?\n        for (bt = rl == bl ? b : bz; rl;) {\n          if (r[--rl] < bt[rl]) {\n            ri = rl;\n            for (; ri && !r[--ri];) r[ri] = 9;\n            --r[ri];\n            r[rl] += 10;\n          }\n          r[rl] -= bt[rl];\n        }\n        for (; !r[0];) r.shift();\n      } else {\n        break;\n      }\n    }\n\n    // Add the digit n to the result array.\n    qc[qi++] = cmp ? n : ++n;\n\n    // Update the remainder.\n    if (r[0] && cmp) r[rl] = a[ai] || 0;else r = [a[ai]];\n  } while ((ai++ < al || r[0] !== UNDEFINED) && k--);\n\n  // Leading zero? Do not remove if result is simply zero (qi == 1).\n  if (!qc[0] && qi != 1) {\n    // There can't be more than one zero.\n    qc.shift();\n    q.e--;\n    p--;\n  }\n\n  // Round?\n  if (qi > p) round(q, p, Big.RM, r[0] !== UNDEFINED);\n  return q;\n};\n\n/*\n * Return true if the value of this Big is equal to the value of Big y, otherwise return false.\n */\nP.eq = function (y) {\n  return this.cmp(y) === 0;\n};\n\n/*\n * Return true if the value of this Big is greater than the value of Big y, otherwise return\n * false.\n */\nP.gt = function (y) {\n  return this.cmp(y) > 0;\n};\n\n/*\n * Return true if the value of this Big is greater than or equal to the value of Big y, otherwise\n * return false.\n */\nP.gte = function (y) {\n  return this.cmp(y) > -1;\n};\n\n/*\n * Return true if the value of this Big is less than the value of Big y, otherwise return false.\n */\nP.lt = function (y) {\n  return this.cmp(y) < 0;\n};\n\n/*\n * Return true if the value of this Big is less than or equal to the value of Big y, otherwise\n * return false.\n */\nP.lte = function (y) {\n  return this.cmp(y) < 1;\n};\n\n/*\n * Return a new Big whose value is the value of this Big minus the value of Big y.\n */\nP.minus = P.sub = function (y) {\n  var i,\n    j,\n    t,\n    xlty,\n    x = this,\n    Big = x.constructor,\n    a = x.s,\n    b = (y = new Big(y)).s;\n\n  // Signs differ?\n  if (a != b) {\n    y.s = -b;\n    return x.plus(y);\n  }\n  var xc = x.c.slice(),\n    xe = x.e,\n    yc = y.c,\n    ye = y.e;\n\n  // Either zero?\n  if (!xc[0] || !yc[0]) {\n    if (yc[0]) {\n      y.s = -b;\n    } else if (xc[0]) {\n      y = new Big(x);\n    } else {\n      y.s = 1;\n    }\n    return y;\n  }\n\n  // Determine which is the bigger number. Prepend zeros to equalise exponents.\n  if (a = xe - ye) {\n    if (xlty = a < 0) {\n      a = -a;\n      t = xc;\n    } else {\n      ye = xe;\n      t = yc;\n    }\n    t.reverse();\n    for (b = a; b--;) t.push(0);\n    t.reverse();\n  } else {\n    // Exponents equal. Check digit by digit.\n    j = ((xlty = xc.length < yc.length) ? xc : yc).length;\n    for (a = b = 0; b < j; b++) {\n      if (xc[b] != yc[b]) {\n        xlty = xc[b] < yc[b];\n        break;\n      }\n    }\n  }\n\n  // x < y? Point xc to the array of the bigger number.\n  if (xlty) {\n    t = xc;\n    xc = yc;\n    yc = t;\n    y.s = -y.s;\n  }\n\n  /*\n   * Append zeros to xc if shorter. No need to add zeros to yc if shorter as subtraction only\n   * needs to start at yc.length.\n   */\n  if ((b = (j = yc.length) - (i = xc.length)) > 0) for (; b--;) xc[i++] = 0;\n\n  // Subtract yc from xc.\n  for (b = i; j > a;) {\n    if (xc[--j] < yc[j]) {\n      for (i = j; i && !xc[--i];) xc[i] = 9;\n      --xc[i];\n      xc[j] += 10;\n    }\n    xc[j] -= yc[j];\n  }\n\n  // Remove trailing zeros.\n  for (; xc[--b] === 0;) xc.pop();\n\n  // Remove leading zeros and adjust exponent accordingly.\n  for (; xc[0] === 0;) {\n    xc.shift();\n    --ye;\n  }\n  if (!xc[0]) {\n    // n - n = +0\n    y.s = 1;\n\n    // Result must be zero.\n    xc = [ye = 0];\n  }\n  y.c = xc;\n  y.e = ye;\n  return y;\n};\n\n/*\n * Return a new Big whose value is the value of this Big modulo the value of Big y.\n */\nP.mod = function (y) {\n  var ygtx,\n    x = this,\n    Big = x.constructor,\n    a = x.s,\n    b = (y = new Big(y)).s;\n  if (!y.c[0]) {\n    throw Error(DIV_BY_ZERO);\n  }\n  x.s = y.s = 1;\n  ygtx = y.cmp(x) == 1;\n  x.s = a;\n  y.s = b;\n  if (ygtx) return new Big(x);\n  a = Big.DP;\n  b = Big.RM;\n  Big.DP = Big.RM = 0;\n  x = x.div(y);\n  Big.DP = a;\n  Big.RM = b;\n  return this.minus(x.times(y));\n};\n\n/*\n * Return a new Big whose value is the value of this Big negated.\n */\nP.neg = function () {\n  var x = new this.constructor(this);\n  x.s = -x.s;\n  return x;\n};\n\n/*\n * Return a new Big whose value is the value of this Big plus the value of Big y.\n */\nP.plus = P.add = function (y) {\n  var e,\n    k,\n    t,\n    x = this,\n    Big = x.constructor;\n  y = new Big(y);\n\n  // Signs differ?\n  if (x.s != y.s) {\n    y.s = -y.s;\n    return x.minus(y);\n  }\n  var xe = x.e,\n    xc = x.c,\n    ye = y.e,\n    yc = y.c;\n\n  // Either zero?\n  if (!xc[0] || !yc[0]) {\n    if (!yc[0]) {\n      if (xc[0]) {\n        y = new Big(x);\n      } else {\n        y.s = x.s;\n      }\n    }\n    return y;\n  }\n  xc = xc.slice();\n\n  // Prepend zeros to equalise exponents.\n  // Note: reverse faster than unshifts.\n  if (e = xe - ye) {\n    if (e > 0) {\n      ye = xe;\n      t = yc;\n    } else {\n      e = -e;\n      t = xc;\n    }\n    t.reverse();\n    for (; e--;) t.push(0);\n    t.reverse();\n  }\n\n  // Point xc to the longer array.\n  if (xc.length - yc.length < 0) {\n    t = yc;\n    yc = xc;\n    xc = t;\n  }\n  e = yc.length;\n\n  // Only start adding at yc.length - 1 as the further digits of xc can be left as they are.\n  for (k = 0; e; xc[e] %= 10) k = (xc[--e] = xc[e] + yc[e] + k) / 10 | 0;\n\n  // No need to check for zero, as +x + +y != 0 && -x + -y != 0\n\n  if (k) {\n    xc.unshift(k);\n    ++ye;\n  }\n\n  // Remove trailing zeros.\n  for (e = xc.length; xc[--e] === 0;) xc.pop();\n  y.c = xc;\n  y.e = ye;\n  return y;\n};\n\n/*\n * Return a Big whose value is the value of this Big raised to the power n.\n * If n is negative, round to a maximum of Big.DP decimal places using rounding\n * mode Big.RM.\n *\n * n {number} Integer, -MAX_POWER to MAX_POWER inclusive.\n */\nP.pow = function (n) {\n  var x = this,\n    one = new x.constructor('1'),\n    y = one,\n    isneg = n < 0;\n  if (n !== ~~n || n < -MAX_POWER || n > MAX_POWER) {\n    throw Error(INVALID + 'exponent');\n  }\n  if (isneg) n = -n;\n  for (;;) {\n    if (n & 1) y = y.times(x);\n    n >>= 1;\n    if (!n) break;\n    x = x.times(x);\n  }\n  return isneg ? one.div(y) : y;\n};\n\n/*\n * Return a new Big whose value is the value of this Big rounded to a maximum precision of sd\n * significant digits using rounding mode rm, or Big.RM if rm is not specified.\n *\n * sd {number} Significant digits: integer, 1 to MAX_DP inclusive.\n * rm? {number} Rounding mode: 0 (down), 1 (half-up), 2 (half-even) or 3 (up).\n */\nP.prec = function (sd, rm) {\n  if (sd !== ~~sd || sd < 1 || sd > MAX_DP) {\n    throw Error(INVALID + 'precision');\n  }\n  return round(new this.constructor(this), sd, rm);\n};\n\n/*\n * Return a new Big whose value is the value of this Big rounded to a maximum of dp decimal places\n * using rounding mode rm, or Big.RM if rm is not specified.\n * If dp is negative, round to an integer which is a multiple of 10**-dp.\n * If dp is not specified, round to 0 decimal places.\n *\n * dp? {number} Integer, -MAX_DP to MAX_DP inclusive.\n * rm? {number} Rounding mode: 0 (down), 1 (half-up), 2 (half-even) or 3 (up).\n */\nP.round = function (dp, rm) {\n  if (dp === UNDEFINED) dp = 0;else if (dp !== ~~dp || dp < -MAX_DP || dp > MAX_DP) {\n    throw Error(INVALID_DP);\n  }\n  return round(new this.constructor(this), dp + this.e + 1, rm);\n};\n\n/*\n * Return a new Big whose value is the square root of the value of this Big, rounded, if\n * necessary, to a maximum of Big.DP decimal places using rounding mode Big.RM.\n */\nP.sqrt = function () {\n  var r,\n    c,\n    t,\n    x = this,\n    Big = x.constructor,\n    s = x.s,\n    e = x.e,\n    half = new Big('0.5');\n\n  // Zero?\n  if (!x.c[0]) return new Big(x);\n\n  // Negative?\n  if (s < 0) {\n    throw Error(NAME + 'No square root');\n  }\n\n  // Estimate.\n  s = Math.sqrt(x + '');\n\n  // Math.sqrt underflow/overflow?\n  // Re-estimate: pass x coefficient to Math.sqrt as integer, then adjust the result exponent.\n  if (s === 0 || s === 1 / 0) {\n    c = x.c.join('');\n    if (!(c.length + e & 1)) c += '0';\n    s = Math.sqrt(c);\n    e = ((e + 1) / 2 | 0) - (e < 0 || e & 1);\n    r = new Big((s == 1 / 0 ? '5e' : (s = s.toExponential()).slice(0, s.indexOf('e') + 1)) + e);\n  } else {\n    r = new Big(s + '');\n  }\n  e = r.e + (Big.DP += 4);\n\n  // Newton-Raphson iteration.\n  do {\n    t = r;\n    r = half.times(t.plus(x.div(t)));\n  } while (t.c.slice(0, e).join('') !== r.c.slice(0, e).join(''));\n  return round(r, (Big.DP -= 4) + r.e + 1, Big.RM);\n};\n\n/*\n * Return a new Big whose value is the value of this Big times the value of Big y.\n */\nP.times = P.mul = function (y) {\n  var c,\n    x = this,\n    Big = x.constructor,\n    xc = x.c,\n    yc = (y = new Big(y)).c,\n    a = xc.length,\n    b = yc.length,\n    i = x.e,\n    j = y.e;\n\n  // Determine sign of result.\n  y.s = x.s == y.s ? 1 : -1;\n\n  // Return signed 0 if either 0.\n  if (!xc[0] || !yc[0]) {\n    y.c = [y.e = 0];\n    return y;\n  }\n\n  // Initialise exponent of result as x.e + y.e.\n  y.e = i + j;\n\n  // If array xc has fewer digits than yc, swap xc and yc, and lengths.\n  if (a < b) {\n    c = xc;\n    xc = yc;\n    yc = c;\n    j = a;\n    a = b;\n    b = j;\n  }\n\n  // Initialise coefficient array of result with zeros.\n  for (c = new Array(j = a + b); j--;) c[j] = 0;\n\n  // Multiply.\n\n  // i is initially xc.length.\n  for (i = b; i--;) {\n    b = 0;\n\n    // a is yc.length.\n    for (j = a + i; j > i;) {\n      // Current sum of products at this digit position, plus carry.\n      b = c[j] + yc[i] * xc[j - i - 1] + b;\n      c[j--] = b % 10;\n\n      // carry\n      b = b / 10 | 0;\n    }\n    c[j] = b;\n  }\n\n  // Increment result exponent if there is a final carry, otherwise remove leading zero.\n  if (b) ++y.e;else c.shift();\n\n  // Remove trailing zeros.\n  for (i = c.length; !c[--i];) c.pop();\n  y.c = c;\n  return y;\n};\n\n/*\n * Return a string representing the value of this Big in exponential notation rounded to dp fixed\n * decimal places using rounding mode rm, or Big.RM if rm is not specified.\n *\n * dp? {number} Decimal places: integer, 0 to MAX_DP inclusive.\n * rm? {number} Rounding mode: 0 (down), 1 (half-up), 2 (half-even) or 3 (up).\n */\nP.toExponential = function (dp, rm) {\n  var x = this,\n    n = x.c[0];\n  if (dp !== UNDEFINED) {\n    if (dp !== ~~dp || dp < 0 || dp > MAX_DP) {\n      throw Error(INVALID_DP);\n    }\n    x = round(new x.constructor(x), ++dp, rm);\n    for (; x.c.length < dp;) x.c.push(0);\n  }\n  return stringify(x, true, !!n);\n};\n\n/*\n * Return a string representing the value of this Big in normal notation rounded to dp fixed\n * decimal places using rounding mode rm, or Big.RM if rm is not specified.\n *\n * dp? {number} Decimal places: integer, 0 to MAX_DP inclusive.\n * rm? {number} Rounding mode: 0 (down), 1 (half-up), 2 (half-even) or 3 (up).\n *\n * (-0).toFixed(0) is '0', but (-0.1).toFixed(0) is '-0'.\n * (-0).toFixed(1) is '0.0', but (-0.01).toFixed(1) is '-0.0'.\n */\nP.toFixed = function (dp, rm) {\n  var x = this,\n    n = x.c[0];\n  if (dp !== UNDEFINED) {\n    if (dp !== ~~dp || dp < 0 || dp > MAX_DP) {\n      throw Error(INVALID_DP);\n    }\n    x = round(new x.constructor(x), dp + x.e + 1, rm);\n\n    // x.e may have changed if the value is rounded up.\n    for (dp = dp + x.e + 1; x.c.length < dp;) x.c.push(0);\n  }\n  return stringify(x, false, !!n);\n};\n\n/*\n * Return a string representing the value of this Big.\n * Return exponential notation if this Big has a positive exponent equal to or greater than\n * Big.PE, or a negative exponent equal to or less than Big.NE.\n * Omit the sign for negative zero.\n */\nP[Symbol.for('nodejs.util.inspect.custom')] = P.toJSON = P.toString = function () {\n  var x = this,\n    Big = x.constructor;\n  return stringify(x, x.e <= Big.NE || x.e >= Big.PE, !!x.c[0]);\n};\n\n/*\n * Return the value of this Big as a primitve number.\n */\nP.toNumber = function () {\n  var n = Number(stringify(this, true, true));\n  if (this.constructor.strict === true && !this.eq(n.toString())) {\n    throw Error(NAME + 'Imprecise conversion');\n  }\n  return n;\n};\n\n/*\n * Return a string representing the value of this Big rounded to sd significant digits using\n * rounding mode rm, or Big.RM if rm is not specified.\n * Use exponential notation if sd is less than the number of digits necessary to represent\n * the integer part of the value in normal notation.\n *\n * sd {number} Significant digits: integer, 1 to MAX_DP inclusive.\n * rm? {number} Rounding mode: 0 (down), 1 (half-up), 2 (half-even) or 3 (up).\n */\nP.toPrecision = function (sd, rm) {\n  var x = this,\n    Big = x.constructor,\n    n = x.c[0];\n  if (sd !== UNDEFINED) {\n    if (sd !== ~~sd || sd < 1 || sd > MAX_DP) {\n      throw Error(INVALID + 'precision');\n    }\n    x = round(new Big(x), sd, rm);\n    for (; x.c.length < sd;) x.c.push(0);\n  }\n  return stringify(x, sd <= x.e || x.e <= Big.NE || x.e >= Big.PE, !!n);\n};\n\n/*\n * Return a string representing the value of this Big.\n * Return exponential notation if this Big has a positive exponent equal to or greater than\n * Big.PE, or a negative exponent equal to or less than Big.NE.\n * Include the sign for negative zero.\n */\nP.valueOf = function () {\n  var x = this,\n    Big = x.constructor;\n  if (Big.strict === true) {\n    throw Error(NAME + 'valueOf disallowed');\n  }\n  return stringify(x, x.e <= Big.NE || x.e >= Big.PE, true);\n};\n\n// Export\n\nvar Big = _Big_();\n\n/// <reference types=\"https://raw.githubusercontent.com/DefinitelyTyped/DefinitelyTyped/master/types/big.js/index.d.ts\" />\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Big);\n\n//# sourceURL=webpack://mytonwallet-lib/./src/lib/big.js/index.js?");

/***/ }),

/***/ "./src/util/PostMessageConnector.ts":
/*!******************************************!*\
  !*** ./src/util/PostMessageConnector.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"createConnector\": () => (/* binding */ createConnector),\n/* harmony export */   \"createExtensionConnector\": () => (/* binding */ createExtensionConnector)\n/* harmony export */ });\n/* harmony import */ var _bigint__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./bigint */ \"./src/util/bigint.ts\");\n/* harmony import */ var _generateUniqueId__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./generateUniqueId */ \"./src/util/generateUniqueId.ts\");\n/* harmony import */ var _logs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./logs */ \"./src/util/logs.ts\");\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n\n\n\nclass ConnectorClass {\n  constructor(target, onUpdate, channel, shouldUseJson) {\n    let targetOrigin = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : '*';\n    this.target = target;\n    this.onUpdate = onUpdate;\n    this.channel = channel;\n    this.shouldUseJson = shouldUseJson;\n    this.targetOrigin = targetOrigin;\n    _defineProperty(this, \"requestStates\", new Map());\n    _defineProperty(this, \"requestStatesByCallback\", new Map());\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  destroy() {}\n  init() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    this.postMessage({\n      type: 'init',\n      args\n    });\n  }\n  request(messageData) {\n    const {\n      requestStates,\n      requestStatesByCallback\n    } = this;\n    const messageId = (0,_generateUniqueId__WEBPACK_IMPORTED_MODULE_1__[\"default\"])();\n    const payload = {\n      type: 'callMethod',\n      messageId,\n      ...messageData\n    };\n    const requestState = {\n      messageId\n    };\n\n    // Re-wrap type because of `postMessage`\n    const promise = new Promise((resolve, reject) => {\n      Object.assign(requestState, {\n        resolve,\n        reject\n      });\n    });\n    if (typeof payload.args[payload.args.length - 1] === 'function') {\n      payload.withCallback = true;\n      const callback = payload.args.pop();\n      requestState.callback = callback;\n      requestStatesByCallback.set(callback, requestState);\n    }\n    requestStates.set(messageId, requestState);\n    promise.catch(() => undefined).finally(() => {\n      requestStates.delete(messageId);\n      if (requestState.callback) {\n        requestStatesByCallback.delete(requestState.callback);\n      }\n    });\n    this.postMessage(payload);\n    return promise;\n  }\n  cancelCallback(progressCallback) {\n    progressCallback.isCanceled = true;\n    const {\n      messageId\n    } = this.requestStatesByCallback.get(progressCallback) || {};\n    if (!messageId) {\n      return;\n    }\n    this.postMessage({\n      type: 'cancelProgress',\n      messageId\n    });\n  }\n  onMessage(data) {\n    if (typeof data === 'string') {\n      try {\n        data = JSON.parse(data, _bigint__WEBPACK_IMPORTED_MODULE_0__.bigintReviver);\n      } catch (err) {\n        (0,_logs__WEBPACK_IMPORTED_MODULE_2__.logDebugError)('PostMessageConnector: Failed to parse message', err);\n        return;\n      }\n    }\n    const {\n      requestStates,\n      channel\n    } = this;\n    if (data.channel !== channel) {\n      return;\n    }\n    if (data.type === 'update' && this.onUpdate) {\n      this.onUpdate(data.update);\n    }\n    if (data.type === 'methodResponse') {\n      const requestState = requestStates.get(data.messageId);\n      if (requestState) {\n        if (data.error) {\n          requestState.reject(data.error);\n        } else {\n          requestState.resolve(data.response);\n        }\n      }\n    } else if (data.type === 'methodCallback') {\n      var _requestState$callbac;\n      const requestState = requestStates.get(data.messageId);\n      requestState === null || requestState === void 0 || (_requestState$callbac = requestState.callback) === null || _requestState$callbac === void 0 || _requestState$callbac.call(requestState, ...data.callbackArgs);\n    } else if (data.type === 'unhandledError') {\n      var _data$error;\n      throw new Error((_data$error = data.error) === null || _data$error === void 0 ? void 0 : _data$error.message);\n    }\n  }\n  postMessage(data) {\n    data.channel = this.channel;\n    let rawData = data;\n    if (this.shouldUseJson) {\n      rawData = JSON.stringify(data);\n    }\n    if ('open' in this.target) {\n      // Is Window\n      this.target.postMessage(rawData, this.targetOrigin);\n    } else {\n      this.target.postMessage(rawData);\n    }\n  }\n}\nfunction createConnector(worker, onUpdate, channel, targetOrigin) {\n  const connector = new ConnectorClass(worker, onUpdate, channel, undefined, targetOrigin);\n  function handleMessage(_ref) {\n    let {\n      data\n    } = _ref;\n    connector.onMessage(data);\n  }\n  worker.addEventListener('message', handleMessage); // TS weirdly complains here\n\n  connector.destroy = () => {\n    worker.removeEventListener('message', handleMessage);\n  };\n  return connector;\n}\nfunction createExtensionConnector(name, onUpdate, getInitArgs, channel) {\n  const connector = new ConnectorClass(connect(), onUpdate, channel, true);\n  function connect() {\n    // eslint-disable-next-line no-restricted-globals\n    const port = self.chrome.runtime.connect({\n      name\n    });\n    port.onMessage.addListener(data => {\n      connector.onMessage(data);\n    });\n\n    // For some reason port can suddenly get disconnected\n    port.onDisconnect.addListener(() => {\n      connector.target = connect();\n      connector.init(getInitArgs === null || getInitArgs === void 0 ? void 0 : getInitArgs());\n    });\n    return port;\n  }\n  connector.init(getInitArgs === null || getInitArgs === void 0 ? void 0 : getInitArgs());\n  return connector;\n}\n\n//# sourceURL=webpack://mytonwallet-lib/./src/util/PostMessageConnector.ts?");

/***/ }),

/***/ "./src/util/bigint.ts":
/*!****************************!*\
  !*** ./src/util/bigint.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"bigintAbs\": () => (/* binding */ bigintAbs),\n/* harmony export */   \"bigintDivideToNumber\": () => (/* binding */ bigintDivideToNumber),\n/* harmony export */   \"bigintMultiplyToNumber\": () => (/* binding */ bigintMultiplyToNumber),\n/* harmony export */   \"bigintReviver\": () => (/* binding */ bigintReviver)\n/* harmony export */ });\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config */ \"./src/config.ts\");\n/* harmony import */ var _decimals__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./decimals */ \"./src/util/decimals.ts\");\n\n\nconst PREFIX = 'bigint:';\n\n// @ts-ignore\nBigInt.prototype.toJSON = function toJSON() {\n  return `${PREFIX}${this}`;\n};\nfunction bigintReviver(key, value) {\n  if (typeof value === 'string' && value.startsWith(PREFIX)) {\n    return BigInt(value.slice(7));\n  }\n  return value;\n}\nfunction bigintAbs(value) {\n  return value === -0n || value < 0n ? -value : value;\n}\nfunction bigintDivideToNumber(value, num) {\n  return value * _config__WEBPACK_IMPORTED_MODULE_0__.ONE_TON / (0,_decimals__WEBPACK_IMPORTED_MODULE_1__.fromDecimal)(num);\n}\nfunction bigintMultiplyToNumber(value, num) {\n  return value * (0,_decimals__WEBPACK_IMPORTED_MODULE_1__.fromDecimal)(num) / _config__WEBPACK_IMPORTED_MODULE_0__.ONE_TON;\n}\n\n//# sourceURL=webpack://mytonwallet-lib/./src/util/bigint.ts?");

/***/ }),

/***/ "./src/util/decimals.ts":
/*!******************************!*\
  !*** ./src/util/decimals.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"fromDecimal\": () => (/* binding */ fromDecimal),\n/* harmony export */   \"getIsPositiveDecimal\": () => (/* binding */ getIsPositiveDecimal),\n/* harmony export */   \"roundDecimal\": () => (/* binding */ roundDecimal),\n/* harmony export */   \"toBig\": () => (/* binding */ toBig),\n/* harmony export */   \"toDecimal\": () => (/* binding */ toDecimal)\n/* harmony export */ });\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config */ \"./src/config.ts\");\n/* harmony import */ var _lib_big_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/big.js */ \"./src/lib/big.js/index.js\");\n\n\n_lib_big_js__WEBPACK_IMPORTED_MODULE_1__.Big.RM = 0; // RoundDown\n_lib_big_js__WEBPACK_IMPORTED_MODULE_1__.Big.NE = -100000; // Disable exponential form\n_lib_big_js__WEBPACK_IMPORTED_MODULE_1__.Big.PE = 100000; // Disable exponential form\n\nconst ten = (0,_lib_big_js__WEBPACK_IMPORTED_MODULE_1__.Big)(10);\nfunction fromDecimal(value, decimals) {\n  return BigInt((0,_lib_big_js__WEBPACK_IMPORTED_MODULE_1__.Big)(value).mul(ten.pow(decimals !== null && decimals !== void 0 ? decimals : _config__WEBPACK_IMPORTED_MODULE_0__.DEFAULT_DECIMAL_PLACES)).round().toString());\n}\nfunction toDecimal(value, decimals) {\n  let noFloor = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  return toBig(value, decimals !== null && decimals !== void 0 ? decimals : _config__WEBPACK_IMPORTED_MODULE_0__.DEFAULT_DECIMAL_PLACES, noFloor).toString();\n}\nfunction toBig(value) {\n  let decimals = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _config__WEBPACK_IMPORTED_MODULE_0__.DEFAULT_DECIMAL_PLACES;\n  let noFloor = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  return (0,_lib_big_js__WEBPACK_IMPORTED_MODULE_1__.Big)(value.toString()).div(ten.pow(decimals)).round(decimals, noFloor ? _lib_big_js__WEBPACK_IMPORTED_MODULE_1__.Big.roundHalfUp : undefined);\n}\nfunction roundDecimal(value, decimals) {\n  return (0,_lib_big_js__WEBPACK_IMPORTED_MODULE_1__.Big)(value).round(decimals).toString();\n}\nfunction getIsPositiveDecimal(value) {\n  return !value.startsWith('-');\n}\n\n//# sourceURL=webpack://mytonwallet-lib/./src/util/decimals.ts?");

/***/ }),

/***/ "./src/util/generateUniqueId.ts":
/*!**************************************!*\
  !*** ./src/util/generateUniqueId.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ generateUniqueId)\n/* harmony export */ });\nfunction generateUniqueId() {\n  return Date.now().toString(36) + Math.random().toString(36).slice(2);\n}\n\n//# sourceURL=webpack://mytonwallet-lib/./src/util/generateUniqueId.ts?");

/***/ }),

/***/ "./src/util/logs.ts":
/*!**************************!*\
  !*** ./src/util/logs.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"logDebug\": () => (/* binding */ logDebug),\n/* harmony export */   \"logDebugError\": () => (/* binding */ logDebugError)\n/* harmony export */ });\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config */ \"./src/config.ts\");\n\nfunction logDebugError(message) {\n  if (_config__WEBPACK_IMPORTED_MODULE_0__.DEBUG) {\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n    // eslint-disable-next-line no-console\n    console.error(`[DEBUG][${message}]`, ...args);\n  }\n}\nfunction logDebug(message) {\n  if (_config__WEBPACK_IMPORTED_MODULE_0__.DEBUG) {\n    for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n      args[_key2 - 1] = arguments[_key2];\n    }\n    // eslint-disable-next-line no-console\n    console.log(`[DEBUG] ${message}`, ...args);\n  }\n}\n\n//# sourceURL=webpack://mytonwallet-lib/./src/util/logs.ts?");

/***/ }),

/***/ "./src/util/schedulers.ts":
/*!********************************!*\
  !*** ./src/util/schedulers.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"debounce\": () => (/* binding */ debounce),\n/* harmony export */   \"fastRaf\": () => (/* binding */ fastRaf),\n/* harmony export */   \"onBeforeUnload\": () => (/* binding */ onBeforeUnload),\n/* harmony export */   \"onIdle\": () => (/* binding */ onIdle),\n/* harmony export */   \"onTickEnd\": () => (/* binding */ onTickEnd),\n/* harmony export */   \"pause\": () => (/* binding */ pause),\n/* harmony export */   \"rafPromise\": () => (/* binding */ rafPromise),\n/* harmony export */   \"throttle\": () => (/* binding */ throttle),\n/* harmony export */   \"throttleWith\": () => (/* binding */ throttleWith),\n/* harmony export */   \"throttleWithTickEnd\": () => (/* binding */ throttleWithTickEnd),\n/* harmony export */   \"waitFor\": () => (/* binding */ waitFor)\n/* harmony export */ });\nfunction debounce(fn, ms) {\n  let shouldRunFirst = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n  let shouldRunLast = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n  let waitingTimeout;\n  return function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    if (waitingTimeout) {\n      clearTimeout(waitingTimeout);\n      waitingTimeout = undefined;\n    } else if (shouldRunFirst) {\n      fn(...args);\n    }\n\n    // eslint-disable-next-line no-restricted-globals\n    waitingTimeout = self.setTimeout(() => {\n      if (shouldRunLast) {\n        fn(...args);\n      }\n      waitingTimeout = undefined;\n    }, ms);\n  };\n}\nfunction throttle(fn, ms) {\n  let shouldRunFirst = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n  let interval;\n  let isPending;\n  let args;\n  return function () {\n    isPending = true;\n    for (var _len2 = arguments.length, _args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      _args[_key2] = arguments[_key2];\n    }\n    args = _args;\n    if (!interval) {\n      if (shouldRunFirst) {\n        isPending = false;\n        fn(...args);\n      }\n\n      // eslint-disable-next-line no-restricted-globals\n      interval = self.setInterval(() => {\n        if (!isPending) {\n          // eslint-disable-next-line no-restricted-globals\n          self.clearInterval(interval);\n          interval = undefined;\n          return;\n        }\n        isPending = false;\n        fn(...args);\n      }, ms);\n    }\n  };\n}\nfunction throttleWithTickEnd(fn) {\n  return throttleWith(onTickEnd, fn);\n}\nfunction throttleWith(schedulerFn, fn) {\n  let waiting = false;\n  let args;\n  return function () {\n    for (var _len3 = arguments.length, _args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      _args[_key3] = arguments[_key3];\n    }\n    args = _args;\n    if (!waiting) {\n      waiting = true;\n      schedulerFn(() => {\n        waiting = false;\n        fn(...args);\n      });\n    }\n  };\n}\nfunction onIdle(cb, timeout) {\n  // eslint-disable-next-line no-restricted-globals\n  if (self.requestIdleCallback) {\n    // eslint-disable-next-line no-restricted-globals\n    self.requestIdleCallback(cb, {\n      timeout\n    });\n  } else {\n    onTickEnd(cb);\n  }\n}\nconst pause = ms => new Promise(resolve => {\n  setTimeout(() => resolve(), ms);\n});\nfunction rafPromise() {\n  return new Promise(resolve => {\n    fastRaf(resolve);\n  });\n}\nconst FAST_RAF_TIMEOUT_FALLBACK_MS = 35; // < 30 FPS\n\nlet fastRafCallbacks;\nlet fastRafFallbackCallbacks;\nlet fastRafFallbackTimeout;\n\n// May result in an immediate execution if called from another RAF callback which was scheduled\n// (and therefore is executed) earlier than RAF callback scheduled by `fastRaf`\nfunction fastRaf(callback) {\n  let withTimeoutFallback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  if (!fastRafCallbacks) {\n    fastRafCallbacks = new Set([callback]);\n    requestAnimationFrame(() => {\n      const currentCallbacks = fastRafCallbacks;\n      fastRafCallbacks = undefined;\n      fastRafFallbackCallbacks = undefined;\n      if (fastRafFallbackTimeout) {\n        clearTimeout(fastRafFallbackTimeout);\n        fastRafFallbackTimeout = undefined;\n      }\n      currentCallbacks.forEach(cb => cb());\n    });\n  } else {\n    fastRafCallbacks.add(callback);\n  }\n  if (withTimeoutFallback) {\n    if (!fastRafFallbackCallbacks) {\n      fastRafFallbackCallbacks = new Set([callback]);\n    } else {\n      fastRafFallbackCallbacks.add(callback);\n    }\n    if (!fastRafFallbackTimeout) {\n      fastRafFallbackTimeout = window.setTimeout(() => {\n        const currentTimeoutCallbacks = fastRafFallbackCallbacks;\n        if (fastRafCallbacks) {\n          currentTimeoutCallbacks.forEach(fastRafCallbacks.delete, fastRafCallbacks);\n        }\n        fastRafFallbackCallbacks = undefined;\n        if (fastRafFallbackTimeout) {\n          clearTimeout(fastRafFallbackTimeout);\n          fastRafFallbackTimeout = undefined;\n        }\n        currentTimeoutCallbacks.forEach(cb => cb());\n      }, FAST_RAF_TIMEOUT_FALLBACK_MS);\n    }\n  }\n}\nlet onTickEndCallbacks;\nfunction onTickEnd(callback) {\n  if (!onTickEndCallbacks) {\n    onTickEndCallbacks = [callback];\n    Promise.resolve().then(() => {\n      const currentCallbacks = onTickEndCallbacks;\n      onTickEndCallbacks = undefined;\n      currentCallbacks.forEach(cb => cb());\n    });\n  } else {\n    onTickEndCallbacks.push(callback);\n  }\n}\nlet beforeUnloadCallbacks;\nfunction onBeforeUnload(callback) {\n  let isLast = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  if (!beforeUnloadCallbacks) {\n    beforeUnloadCallbacks = [];\n    // eslint-disable-next-line no-restricted-globals\n    self.addEventListener('beforeunload', () => {\n      beforeUnloadCallbacks.forEach(cb => cb());\n    });\n  }\n  if (isLast) {\n    beforeUnloadCallbacks.push(callback);\n  } else {\n    beforeUnloadCallbacks.unshift(callback);\n  }\n  return () => {\n    beforeUnloadCallbacks = beforeUnloadCallbacks.filter(cb => cb !== callback);\n  };\n}\nasync function waitFor(cb, interval, attempts) {\n  let i = 0;\n  let result = cb();\n  while (!result && i < attempts) {\n    await pause(interval);\n    i++;\n    result = cb();\n  }\n  return result;\n}\n\n//# sourceURL=webpack://mytonwallet-lib/./src/util/schedulers.ts?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = __webpack_modules__;
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/get javascript chunk filename */
/******/ 	(() => {
/******/ 		// This function allow to reference async chunks
/******/ 		__webpack_require__.u = (chunkId) => {
/******/ 			// return url for filenames based on template
/******/ 			return "" + chunkId + ".bundle.js";
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/global */
/******/ 	(() => {
/******/ 		__webpack_require__.g = (function() {
/******/ 			if (typeof globalThis === 'object') return globalThis;
/******/ 			try {
/******/ 				return this || new Function('return this')();
/******/ 			} catch (e) {
/******/ 				if (typeof window === 'object') return window;
/******/ 			}
/******/ 		})();
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/publicPath */
/******/ 	(() => {
/******/ 		var scriptUrl;
/******/ 		if (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + "";
/******/ 		var document = __webpack_require__.g.document;
/******/ 		if (!scriptUrl && document) {
/******/ 			if (document.currentScript)
/******/ 				scriptUrl = document.currentScript.src;
/******/ 			if (!scriptUrl) {
/******/ 				var scripts = document.getElementsByTagName("script");
/******/ 				if(scripts.length) scriptUrl = scripts[scripts.length - 1].src
/******/ 			}
/******/ 		}
/******/ 		// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration
/******/ 		// or pass an empty string ("") and set the __webpack_public_path__ variable from your code to use your own logic.
/******/ 		if (!scriptUrl) throw new Error("Automatic publicPath is not supported in this browser");
/******/ 		scriptUrl = scriptUrl.replace(/#.*$/, "").replace(/\?.*$/, "").replace(/\/[^\/]+$/, "/");
/******/ 		__webpack_require__.p = scriptUrl;
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/jsonp chunk loading */
/******/ 	(() => {
/******/ 		__webpack_require__.b = document.baseURI || self.location.href;
/******/ 		
/******/ 		// object to store loaded and loading chunks
/******/ 		// undefined = chunk not loaded, null = chunk preloaded/prefetched
/******/ 		// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded
/******/ 		var installedChunks = {
/******/ 			"main": 0
/******/ 		};
/******/ 		
/******/ 		// no chunk on demand loading
/******/ 		
/******/ 		// no prefetching
/******/ 		
/******/ 		// no preloaded
/******/ 		
/******/ 		// no HMR
/******/ 		
/******/ 		// no HMR manifest
/******/ 		
/******/ 		// no on chunks loaded
/******/ 		
/******/ 		// no jsonp function
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./src/index.ts");
/******/ 	
/******/ })()
;